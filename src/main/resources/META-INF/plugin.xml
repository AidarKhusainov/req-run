<idea-plugin>
    <id>com.github.aidarkhusainov.reqrun</id>
    <name>ReqRun</name>
    <vendor email="khusainov19978@gmail.com">Aidar Khusainov</vendor>

    <description><![CDATA[
        <p><b>ReqRun</b> is a minimal HTTP client for IntelliJ IDEA Community Edition.</p>

        <p>
          Run requests from plain <code>.http</code> files â€” fast, readable, shareable, and version-controlled.
        </p>

        <p><b>Key features</b></p>
        <ul>
          <li>Run request blocks with gutter markers or <code>Ctrl+Alt+R</code></li>
          <li>Run requests from selection, file, or folder</li>
          <li>Inline toolbar: templates, cURL import/export, run-all, environment selector</li>
          <li>Response viewer with status/headers/body, view modes, and quick actions</li>
          <li>Service tool window history with re-run and optional URL shortening</li>
        </ul>

        <p><b>Variables and environments</b></p>
        <ul>
          <li>File variables: <code>@name = value</code></li>
          <li>Placeholders: <code>{{var}}</code></li>
          <li>Built-ins: <code>{{$timestamp}}</code>, <code>{{$uuid}}</code>, <code>{{$randomInt}}</code></li>
          <li>Environments: <code>http-client.env.json</code> + <code>http-client.private.env.json</code> (private overrides shared)</li>
          <li>Static auth configs in env files with <code>{{$auth.token("id")}}</code> and <code>{{$auth.header("id")}}</code></li>
        </ul>

        <p><b>Request example</b></p>
        <p>
          <code>POST https://httpbin.org/post</code><br/>
          <code>@token = demo</code><br/>
          <code>Content-Type: application/json</code><br/><br/>
          <code>{"ok": true, "token": "{{token}}", "requestId": "{{$uuid}}"}</code>
        </p>

        <p><b>Notes</b></p>
        <ul>
          <li><code>#</code> starts a line comment (ignored by parser and runner)</li>
          <li>A blank line (or a comment line) separates headers and body</li>
          <li>Use <code>###</code> on its own line to separate request blocks</li>
          <li>Use <code>&gt;</code> or <code>&gt;&gt;</code> to save responses; <code>&lt;</code> to upload files</li>
        </ul>

        <p><b>Docs</b></p>
        <ul>
          <li><a href="https://github.com/AidarKhusainov/req-run/blob/main/docs/quickstart.md">Quickstart</a></li>
          <li><a href="https://github.com/AidarKhusainov/req-run/blob/main/docs/request-format.md">Request format</a></li>
          <li><a href="https://github.com/AidarKhusainov/req-run/blob/main/docs/environments.md">Environments</a></li>
          <li><a href="https://github.com/AidarKhusainov/req-run/blob/main/docs/response-viewer.md">Response viewer</a></li>
        </ul>

        <p>
          Feedback and bug reports:
          <a href="https://github.com/AidarKhusainov/req-run/issues">GitHub Issues</a>
        </p>
    ]]></description>

    <depends>com.intellij.modules.platform</depends>

    <extensions defaultExtensionNs="com.intellij">
        <fileType name="ReqRun HTTP" language="ReqRunHTTP" extensions="http"
                  implementationClass="com.github.aidarkhusainov.reqrun.lang.ReqRunFileType"/>
        <notificationGroup id="ReqRun Notifications" displayType="BALLOON"/>
        <codeInsight.lineMarkerProvider language="ReqRunHTTP"
                                        implementationClass="com.github.aidarkhusainov.reqrun.markers.ReqRunLineMarkerProvider"/>
        <lang.parserDefinition language="ReqRunHTTP"
                               implementationClass="com.github.aidarkhusainov.reqrun.lang.ReqRunParserDefinition"/>
        <lang.commenter language="ReqRunHTTP"
                        implementationClass="com.github.aidarkhusainov.reqrun.lang.ReqRunCommenter"/>
        <serviceViewContributor implementation="com.github.aidarkhusainov.reqrun.services.ReqRunServiceContributor"/>
        <projectConfigurable groupId="tools"
                             displayName="ReqRun"
                             instance="com.github.aidarkhusainov.reqrun.settings.ReqRunEnvPathConfigurable"/>
        <editorNotificationProvider implementation="com.github.aidarkhusainov.reqrun.ui.ReqRunToolbarNotificationProvider"/>
    </extensions>

    <actions>
        <group id="com.github.aidarkhusainov.reqrun.actions.ReqRunEditorPopupGroup"
               class="com.github.aidarkhusainov.reqrun.actions.ReqRunEditorPopupGroup"
               text="ReqRun"
               popup="false">
            <add-to-group group-id="EditorPopupMenu" anchor="last"/>
        </group>
        <action id="com.github.aidarkhusainov.reqrun.actions.RunHttpRequestAction"
                class="com.github.aidarkhusainov.reqrun.actions.RunHttpRequestAction"
                text="Run HTTP Request"
                description="Send HTTP request from the current selection or request block">
            <add-to-group group-id="ToolsMenu" anchor="last"/>
            <keyboard-shortcut keymap="$default" first-keystroke="ctrl alt R"/>
        </action>
        <action id="com.github.aidarkhusainov.reqrun.actions.RunHttpRequestsGroupAction"
                class="com.github.aidarkhusainov.reqrun.actions.RunHttpRequestsGroupAction"
                text="Run HTTP Requests (Group)"
                description="Run HTTP requests from selection, file, or folder">
            <add-to-group group-id="ProjectViewPopupMenu" anchor="last"/>
            <add-to-group group-id="ToolsMenu" anchor="last"/>
        </action>
        <action id="com.github.aidarkhusainov.reqrun.actions.CopyCurlAction"
                class="com.github.aidarkhusainov.reqrun.actions.CopyCurlAction"
                text="Convert to cURL and Copy"
                description="Copy HTTP request as cURL">
            <add-to-group group-id="ToolsMenu" anchor="last"/>
        </action>
        <action id="com.github.aidarkhusainov.reqrun.actions.PasteCurlAction"
                class="com.github.aidarkhusainov.reqrun.actions.PasteCurlAction"
                text="Paste cURL as HTTP"
                description="Insert HTTP request from a cURL command">
            <add-to-group group-id="ToolsMenu" anchor="last"/>
        </action>
    </actions>
</idea-plugin>
